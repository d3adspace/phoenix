################
### Language ###
################
language: java

###########
### JDK ###
###########
jdk:
  - oraclejdk11

###############
### Caching ###
###############
cache:
  directories:
    - '$HOME/.m2/repository'
    - '$HOME/.sonar/cache'

#####################
### Notifications ###
#####################
notifications:
  email: false

####################
### Build script ###
####################
script:
  - mvn clean compile package install
  - mvn verify sonar:sonar -Dsonar.host.url=https://sonar.klauke-enterprises.com -Dsonar.projectKey=phoenix -Dsonar.projectName=phoenix -Dsonar.login=$SONAR_TOKEN

##################
### Deployment ###
##################
deploy:
  provider: script
  script: mvn deploy --settings deploy/maven-settings.xml
  on:
    branch: master
    tags: true

###################
### Environment ###
###################
env:
  global:
    - secure: YYx2xMo1t2bISB6K8as9GsZulNmtokXZV1Z94ZD2MhMlGaPIvOzx1mjO6GA8xlA/ngDLX4WOSh4AncDG7OqcWwUdOsPrmzno6E0H/TDrLQvzV0/dvxqNsD7mjfkfNZwebXf5QQYJ9bM9FRtraWMcmmOxzaAUpy9TvUJx7zla7SbWPzmpYbNISuNjmHDxDUhZWG7I9E0Qmjlqj/v0Glnlx0PLmM05fsf5zNbnn8qRNH1zNp5+1KQHLfmLfamrdI0sP97vCBn8u9YMC1wfeI4FbQib7YfB3q/KnES1DtZYUzuLYv3GYyx/cZY4NokV2U5sda81FLGKN3aJ9HxLpMMw+1ZXE5LpvYPsgbrDZfEuTkMJnprz03pHtx81+OSqslqhOkHOl4Ie0FgW5Vm7U9+R1qzY56DacmkKvRSHJOl3OaV05xSWOgRZ0E3tz0+mvhjPxUQ6gooDk0PUcrinPzNd0Fb24CGroH9QN0RomFhOA0sJ54Fj0lIWxnzZHAdwgdGgivEZAeGxb1dp/jREOsMkJcKFW5jYfaUBgAzusLChrU0+c4OiXJ8zKxinKWqTuNsJLhB0y9Qp3ARgWt/IqzFJTWFgugiPs7a4RMU4ZR9zJBCRYRKT3QoqFgaJq+oR9rSel8bHk+mCIWgx2GyjCLxRriqJESACPBe9dPeyYe9tD8w=
    - secure: J4AD2w66YLuF+zHTxgOgkjDNt9FxmMaHW/pyR3gsKcICWDyjyXf/wQ84pKe4weOeTVjuF3N/IVmXEbtrgL0cXtaumfW2Q1B3OT0AoYDoT3zWhHQR48wFye+L99TK74rt2NQDWNgvNAPxdXG6xfGPB3V20MoPqeVetvHWxyeqbm5jkhoIuZ0ekldKpaFIC9TM8EV4ofgtRkX5EcwRdOyVcqo09eLGXldvmV6hzb0HjCGGH9bHfJmQIt1ZvQaIdxh7dE0bYzcqPSV2u4hXo5Yd4KqRtUHzu++ULslwYieZgD1uM4/Nig5g3W+4CZ/sNYI5snfiU6nb3YquUjxf3cnPM8w3ncu46rSVxDPl4UKeRbvEqMsZ2BDXeGZxW4smFIVaLtnryseM+Xe/i+8sYnB22wkakGQxIRfa6FsVq3EeO8ILTDwP13/EJ52OOOjdVIu29N8IKByZDDXQaExAo6AcOh6PQtz4tRT69+ihupkuApks0LYCU7duTAp/8TUVbIbOyNjn78Mx4jDPJrUUUWklNHVBwTDrRKaNs0zxwz0KqrvpOeLm1Z2zxSSnuUTymCByxuRMBuVltovZoBjt+Vqr66fosafWkLWLYmpQZfmAs21IxOqIpq288m+Dy6Malv+54/4tGAPT6ZmEjscpP+pYSOJccWs75c/zIUp604vii6s=
    - secure: ZZXkiaN70vBF4cXkBpxJwsG0j1QUmkLRedjbA0u8B2asOgbzGy8CLCt5a/rwWQjS/4CndQnC6EiuneOivagd9LRA2IH5vkJMP78jo8o/uxT6OQE8ZUtJcgZmD+qDKIfZacyjhtLC/6yKbxIGHjY4Wyx2qS7rzxEY0RN/iyCJ1cDQo3eDaKG/mXvepjSydhUPcqLwu8skKpueBFW/L04hrkWuLOMKO8LVzpQXX+k87N9T97MqNlz9oSYT5v1xGfp3Nm4CeHRBsrL2f8zBFCWBQjOm7gU8R7hp12+X9OXQTSbGdaEUsq2id4aBSAtOermuo56v6yfbt/CvHUzc1mfrRTyUhvy0Xtvfs++biHPUqIJM65O9dYqyB5bJq38K4BtW11mpZu3fVnojXhRnLA8itTwOb/07ZR2AL/qxFrd7tLlurnvEkJNSnHmYIjGVy7x26zs87bbHjCcohc45kOVSOINhCo52Vb5FnwyA3XvJAzYObnlHjVWCA9mYtNkN6kGzCaFIBC90R1arqKiI9Q/IzI2nTlFlSSuEcYnfQ24JtMmUpBwKXinJL2rmVMxRRPdkr74ed6ZFTDH4X6IilOH95KlTVBBmd4+0vSLjPEL6GxYakXYhwagQog3U51us/ouWsEzqcFyesISvTxRuyGvEhqq6qoGyCBLsDBl3rbxSFdE=
